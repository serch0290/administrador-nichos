{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { NichosService } from 'src/app/services/nichos.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/nichos.service\";\nimport * as i2 from \"@ngbracket/ngx-layout/flex\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/input\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/button\";\nexport class ConfigBdComponent {\n  constructor(nichosService) {\n    this.nichosService = nichosService;\n    this.nicho = {};\n    this.salir = new EventEmitter();\n  }\n  ngOnInit() {\n    if (!this.nicho.database) {\n      this.nicho.database = {};\n    }\n  }\n  /**\n   * Se guarda la configuracion de BD\n   */\n  guardarConfiguracionBD() {\n    if (!this.nicho.database.host || !this.nicho.database.usuario || !this.nicho.database.password || !this.nicho.database.database) {\n      alert('Faltan campos por llenar');\n      return;\n    }\n    this.nichosService.guardarConfiguracionBD(this.nicho.database, this.nicho._id).subscribe(response => {\n      this.nicho.database_id = response._id;\n    });\n  }\n  /**\n   * Se hace un test para ver si llegamos a la conexion en BD\n   */\n  testBD() {\n    if (!this.nicho.database._id) {\n      alert('No has configurado la conexion');\n      return;\n    }\n    this.nichosService.testBD(this.nicho.database).subscribe(response => {\n      this.nicho.database.conexion = response.conn;\n    });\n  }\n  /**\n   * Se sale de la pantalla para la configuracion en BD\n   */\n  cancelar() {\n    this.salir.emit(false);\n  }\n  static #_ = this.ɵfac = function ConfigBdComponent_Factory(t) {\n    return new (t || ConfigBdComponent)(i0.ɵɵdirectiveInject(i1.NichosService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ConfigBdComponent,\n    selectors: [[\"app-config-bd\"]],\n    inputs: {\n      nicho: \"nicho\"\n    },\n    outputs: {\n      salir: \"salir\"\n    },\n    features: [i0.ɵɵProvidersFeature([NichosService])],\n    decls: 26,\n    vars: 4,\n    consts: [[\"fxLayout\", \"column\", 1, \"mt-20\"], [3, \"click\"], [\"matInput\", \"\", \"placeholder\", \"Host\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Usuario\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\"], [\"matInput\", \"\", \"placeholder\", \"Database\", 3, \"ngModel\", \"ngModelChange\"], [\"fxLayout\", \"row\", \"fxLayoutAlign\", \"center center\"], [\"mat-raised-button\", \"\", 1, \"mr-8\", 3, \"click\"], [\"mat-raised-button\", \"\", 3, \"click\"]],\n    template: function ConfigBdComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"strong\", 1);\n        i0.ɵɵlistener(\"click\", function ConfigBdComponent_Template_strong_click_1_listener() {\n          return ctx.salir.emit();\n        });\n        i0.ɵɵtext(2, \"Regresar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"mat-form-field\")(4, \"mat-label\");\n        i0.ɵɵtext(5, \"Host\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"input\", 2);\n        i0.ɵɵlistener(\"ngModelChange\", function ConfigBdComponent_Template_input_ngModelChange_6_listener($event) {\n          return ctx.nicho.database.host = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"mat-form-field\")(8, \"mat-label\");\n        i0.ɵɵtext(9, \"Usuario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function ConfigBdComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.nicho.database.usuario = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"mat-form-field\")(12, \"mat-label\");\n        i0.ɵɵtext(13, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function ConfigBdComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.nicho.database.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"mat-form-field\")(16, \"mat-label\");\n        i0.ɵɵtext(17, \"Database\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function ConfigBdComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.nicho.database.database = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 6)(20, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function ConfigBdComponent_Template_button_click_20_listener() {\n          return ctx.cancelar();\n        });\n        i0.ɵɵtext(21, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function ConfigBdComponent_Template_button_click_22_listener() {\n          return ctx.guardarConfiguracionBD();\n        });\n        i0.ɵɵtext(23, \"Guardar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function ConfigBdComponent_Template_button_click_24_listener() {\n          return ctx.testBD();\n        });\n        i0.ɵɵtext(25, \"Validar Conexion\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.nicho.database.host);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.nicho.database.usuario);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.nicho.database.password);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.nicho.database.database);\n      }\n    },\n    dependencies: [i2.DefaultLayoutDirective, i2.DefaultLayoutAlignDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.MatInput, i5.MatFormField, i5.MatLabel, i6.MatButton],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["EventEmitter","NichosService","ConfigBdComponent","constructor","nichosService","nicho","salir","ngOnInit","database","guardarConfiguracionBD","host","usuario","password","alert","_id","subscribe","response","database_id","testBD","conexion","conn","cancelar","emit","_","i0","ɵɵdirectiveInject","i1","_2","selectors","inputs","outputs","features","ɵɵProvidersFeature","decls","vars","consts","template","ConfigBdComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","ConfigBdComponent_Template_strong_click_1_listener","ɵɵtext","ɵɵelementEnd","ConfigBdComponent_Template_input_ngModelChange_6_listener","$event","ConfigBdComponent_Template_input_ngModelChange_10_listener","ConfigBdComponent_Template_input_ngModelChange_14_listener","ConfigBdComponent_Template_input_ngModelChange_18_listener","ConfigBdComponent_Template_button_click_20_listener","ConfigBdComponent_Template_button_click_22_listener","ConfigBdComponent_Template_button_click_24_listener","ɵɵadvance","ɵɵproperty"],"sources":["/Users/sergio/Documents/admin-nichos/administrador-nichos/src/app/configuracion-nicho/config-bd/config-bd.component.ts","/Users/sergio/Documents/admin-nichos/administrador-nichos/src/app/configuracion-nicho/config-bd/config-bd.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { NichosService } from 'src/app/services/nichos.service';\n\n@Component({\n  selector: 'app-config-bd',\n  templateUrl: './config-bd.component.html',\n  styleUrls: ['./config-bd.component.scss'],\n  providers: [NichosService]\n})\nexport class ConfigBdComponent implements OnInit{\n  \n  @Input() nicho: any = {};\n  @Output() salir = new EventEmitter<any>();\n\n  constructor(private nichosService: NichosService){\n\n  }\n\n  ngOnInit(): void {\n    if(!this.nicho.database){\n       this.nicho.database = {};\n    }\n  }\n\n  /**\n   * Se guarda la configuracion de BD\n   */\n  guardarConfiguracionBD(){\n     if(!this.nicho.database.host || !this.nicho.database.usuario || \n        !this.nicho.database.password || !this.nicho.database.database){\n        alert('Faltan campos por llenar');\n        return;\n     }\n\n     this.nichosService.guardarConfiguracionBD(this.nicho.database, this.nicho._id)\n        .subscribe(response=>{\n          this.nicho.database_id = response._id;\n        });\n  }\n\n  /**\n   * Se hace un test para ver si llegamos a la conexion en BD\n   */\n  testBD(){\n    if(!this.nicho.database._id){ \n       alert('No has configurado la conexion');\n       return; \n    }\n    this.nichosService.testBD(this.nicho.database)\n        .subscribe(response=>{\n          this.nicho.database.conexion = response.conn;\n        });\n  }\n\n  /**\n   * Se sale de la pantalla para la configuracion en BD\n   */\n  cancelar(){\n    this.salir.emit(false);\n  }\n\n}\n","<div fxLayout=\"column\" class=\"mt-20\">\n      \n    <strong (click)=\"salir.emit()\">Regresar</strong>\n    <mat-form-field>\n        <mat-label>Host</mat-label>\n        <input matInput [(ngModel)]=\"nicho.database.host\" placeholder=\"Host\">\n    </mat-form-field>\n    <mat-form-field>\n        <mat-label>Usuario</mat-label>\n        <input matInput [(ngModel)]=\"nicho.database.usuario\" placeholder=\"Usuario\">\n    </mat-form-field>\n    <mat-form-field>\n        <mat-label>Password</mat-label>\n        <input matInput [(ngModel)]=\"nicho.database.password\" placeholder=\"Password\">\n    </mat-form-field>\n    <mat-form-field>\n        <mat-label>Database</mat-label>\n        <input matInput [(ngModel)]=\"nicho.database.database\" placeholder=\"Database\">\n    </mat-form-field>\n    <div fxLayout=\"row\" fxLayoutAlign=\"center center\">\n        <button mat-raised-button class=\"mr-8\" (click)=\"cancelar()\">Cancelar</button>\n        <button mat-raised-button (click)=\"guardarConfiguracionBD()\">Guardar</button>\n        <button mat-raised-button (click)=\"testBD()\">Validar Conexion</button>\n    </div>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}